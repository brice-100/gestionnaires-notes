<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
    <link rel="stylesheet" href="ges.css">
    <title>Acceuil</title>
</head>
<body>
    <div class="home-page" id="homePage">
    <div class="container">
        <header>
        <h1>Gestionnaire des notes</h1>
        <p class="subtitle">
                Une plateforme moderne et intuitive pour la gestion des notes, le suivi acad√©mique et la communication entre enseignants, √©l√®ves.
            </p>
        </header>
       <section class="cadre-grid">
          <div class="card"> 
            <div class="card-icon">üë®‚Äçüéì</div>
              <h2 class="titre"> Espace √©l√®ve</h2>
                <p class="description">Acc√©dez √† vos notes et consultez vos notes en temps r√©el</p>
            <button  onclick="showAuth('eleve')" id="eleve"> Je suis √©l√®ve </button>
       </div>
        <div class="card"> 
             <div class="card-icon">üìä</div>
                <h2 class="titre"> Espace Enseignant </h2>
                 <p class="description">saisissez les notes, g√©rez vos classes</p>
            <button  onclick="showAuth('enseignant')" id="enseignant"> Je suis enseignant</button>
       </div>
        </section>
    </div>
    
</div>
    <!-- PAGE AUTHENTIFICATION √âL√àVE -->
     <div class="auth-page" id="eleveAuthPage">
        <div class="auth-container">
            <div class="auth-header">
                <button class="back-button" onclick="backToHome()"> Retour</button>
                <h1>üë®‚Äçüéì Espace √©l√®ve</h1>
            </div>
            <div class="auth-content">
                <div class="form-tabs">
                    <button class="form-tab active" onclick="switchTab('login',  'eleve')">Connexion</button>
                    <button class="form-tab " onclick="switchTab('register' , 'eleve')" >S'inscrire</button>
                </div>
                <div class="form-content active" id="eleve-login">
                    <div id="eleve-login-error" class="error-message"></div>
                    <form onsubmit="handleEleveLogin(event)">
                        <div class="form-group">
                            <label for="login-email-eleve">Email</label>
                            <input type="text"  id="login-email-eleve" placeholder="entrez votre email.com" required>
                        </div>
                        <div class="form-group">
                            <label for="login-password-eleve"> Mot de passe</label>
                            <input type="password" id="login-password-eleve" placeholder=".........." required>
                        </div>
                        <button type="submit" class="form-button"> Se connecter</button>
                    </form>
                    
                </div>
                 <div class="form-content" id="eleve-register">
                    <div id="eleve-register-error" class="error-message"></div>
                    <div id="eleve-register-success" class="success-message"></div>
                    <form onsubmit="handleEleveRegister(event)" id="eleve-register-form">
                        <div class="form-group">
                            <label for="registrer-nom-eleve">Nom</label>
                            <input type="text" id="register-nom-eleve" placeholder="Votre nom" required>
                        </div>
                        <div class="form-group">
                            <label for="register-prenom-eleve">Pr√©nom</label>
                            <input type="text" id="register-prenom-eleve" placeholder="Votre prenom" required>
                        </div>
                        <div class="form-group">
                            <label for="register-classe-eleve">Choisissez votre classe</label>
                            <select id="register-classe-eleve" required>
                                <option value="">S√©lectionner votre classe</option>
                                <option value="6√®me A">6√®me A</option>
                                <option value="6√®me B">6√®me B</option>
                                <option value="5√®me A">5√®me A</option>
                                <option value="5√®me B">5√®me B</option>
                                <option value="4√®me A">4√®me A</option>
                                <option value="4√®me B">4√®me B</option>
                                <option value="3√®me A">3√®me A</option>
                                <option value="3√®me B">3√®me B</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="register-email-eleve">Email</label>
                            <input type="text" id="register-email-eleve" placeholder="Votre email.com" required>
                        </div>
                        <div class="form-group">
                            <label for="register-password-eleve">Mot de passe</label>
                            <input type="password" id="register-password-eleve" placeholder="........" required>
                        </div>
                        <div class="form-group">
                            <label for="register-password-confirm-eleve">Confirmer le mot de passe</label>
                            <input type="password" id="register-password-confirm-eleve" placeholder="........." required>
                        </div>
                        <button type="submit" class="form-button">S'inscrire</button>
                    </form>
                 </div>
            </div>
        </div>
     </div>
     <!--PAGE AUTHENTIFICATION ENSEIGNANT--> 
     <div class="auth-page" id="enseignantAuthPage">
        <div class="auth-container">
            <div class="auth-header">
                <button class="back-button" onclick="backToHome()">Retour</button>
                <h1>üìä Espace Enseignant</h1>
            </div>
            <div class="auth-content">
                <div class="form-tabs">
                    <button class="form-tab active" onclick="switchTab('login' , 'enseignant')">Connexion</button>
                    <button class="form-tab" onclick="switchTab('register' , 'enseignant')">S'inscrire</button>
                </div>
                <div class="form-content active" id="enseignant-login">  
                    <div id="enseignant-login-error" class="error-message"></div>
                        <form onsubmit="handleEnseignantLogin(event)"">
                            <div class="form-group">
                                 <label for="login-email-enseignant">Email</label>
                                 <input type="text"  id="login-email-enseignant" placeholder="entrez votre email.com" required>
                            </div>
                            <div class="form-group">
                                <label for="login-password-enseignant"> Mot de passe</label>
                                <input type="password" id="login-password-enseignant" placeholder=".........." required>
                            </div>
                            <button type="submit" class="form-button">Se connecter</button>
                        </form>
                          
                </div>
                </div>
                <div class="form-content" id="enseignant-register">
                    <div id="enseignant-register-error" class="error-message"></div>
                    <div id="enseignant-register-success" class="success-message"></div>
                    <form onsubmit="handleEnseignantRegister(event)" id="enseignant-register-form">
                        <div class="form-group">
                            <label for="registrer-nom-enseignant">Nom</label>
                            <input type="text" id="register-nom-enseignant" placeholder="Votre nom" required>
                        </div>
                        <div class="form-group">
                            <label for="register-prenom-enseignant">Pr√©nom</label>
                            <input type="text" id="register-prenom-enseignant" placeholder="Votre prenom" required>
                        </div>
                        <div class="form-group">
                              <label for="register-email-enseignant">Email</label>
                              <input type="text"  id="register-email-enseignant" placeholder="entrez votre email.com" required>
                        </div>
                        <div class="form-group">
                              <label for="register-subject-enseignant">Mati√®re enseign√©e</label>
                                <select name="mati√®re" id="register-subject-enseignant" required>
                                    <option value="Math√©matiques">Math√©matiques</option>
                                    <option value="Fran√ßais">Fran√ßais</option>
                                    <option value="Anglais">Anglais</option>
                                    <option value="Sciences">Sciences</option>
                                    <option value="Histoire">Histoire</option>
                                    <option value="G√©ographie">G√©ographie</option>
                                </select>
                        </div>
                        <div class="form-group">
                            <label> Choisissez votre(vos) classe(s)</label>
                            <div style="display: flex; flex-direction: column; gap: 8px;">
                                <label  style="display: flex; gap: 8px; font-weight: 400; cursor: pointer;">
                                    <input type="checkbox" name="classes" value="6√®me A">6√®me A
                                </label>
                                 <label style="display: flex; gap: 8px; font-weight: 400; cursor: pointer;">
                                    <input type="checkbox" name="classes" value="6√®me B"> 6√®me B
                                </label>
                                <label style="display: flex; gap: 8px; font-weight: 400; cursor: pointer;">
                                    <input type="checkbox" name="classes" value="5√®me A"> 5√®me A
                                </label>
                                <label style="display: flex; gap: 8px; font-weight: 400; cursor: pointer;">
                                    <input type="checkbox" name="classes" value="5√®me B"> 5√®me B
                                </label>
                                <label style="display: flex; gap: 8px; font-weight: 400; cursor: pointer;">
                                    <input type="checkbox" name="classes" value="4√®me A"> 4√®me A
                                </label>
                                  <label style="display: flex; gap: 8px; font-weight: 400; cursor: pointer;">
                                    <input type="checkbox" name="classes" value="4√®me B"> 4√®me B
                                </label>
                                <label style="display: flex; gap: 8px; font-weight: 400; cursor: pointer;">
                                    <input type="checkbox" name="classes" value="3√®me B"> 3√®me B
                                </label>
                                <label style="display: flex; gap: 8px; font-weight: 400; cursor: pointer;">
                                    <input type="checkbox" name="classes" value="3√®me A"> 3√®me A
                                </label>
                                
                            </div>
                        </div>
                        <div class="form-group">
                             <label for="register-password-enseignant"> Mot de passe</label>
                             <input type="password" id="register-password-enseignant" placeholder=".........." required>
                        </div>
                         <div class="form-group">
                            <label for="register-password-confirm-enseignant">Confirmer le mot de passe</label>
                            <input type="password" id="register-password-confirm-enseignant" placeholder="........." required>
                        </div>
                        <button type="submit" class="form-button"> S'inscrire</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!--DASHBOARD ENSEIGNANT-->
    <div class="teacher-dashboard" id="teacherDashboard">
        <div class="dashboard-header">
            <div>
                <h1>üìä Dashboard Enseignant</h1>
                <p id="teacher-name" style="margin-top: 10px; opacity:0.9">Bienvenue</p>
            </div>
                <p id="teacherName" style="margin-top: 10px; opacity:0.9">Bienvenue</p>
                <p id="student-name"  style="margin-top: 10px; opacity:0.9">Bienvenue</p>
                <p id="studentName"  style="margin-top: 10px; opacity:0.9">Bienvenue</p>
            <button class="logout-btn" onclick="logout()">D√©connexion</button>
        </div>
        <div class="teacher-content">
            <div class="class-tabs" id="classTabsTeacher"></div>
            <div class="subject-section">
                <div class="subject-header">
                    <h2 id="subject-title">G√©rer les notes</h2>
                </div>
                <table class="students-table">
                    <thead>
                        <tr>
                            <th>Nom</th>
                            <th>Pr√©nom</th>
                            <th>classe</th>
                            <th>Note1</th>
                            <th>Note2</th>
                            <th>Historique</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="students-tbody">
                        
                        <tr>
                            <td colspan="5" style="text-align:center;color:#999;">Aucun √©l√®ve inscrit pour le moment</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <!--Dashboard eleve-->
    <div class="student-dashboard" id="studentDashboard">
        <div class="Dashboard-header">
            <div>
                <h1>üìà Dashboard El√®ve</h1>
                <h1>üìà Mes Notes</h1>
                <p id="student-name"  style="margin-top: 10px; opacity:0.9">Bienvenue</p>
            </div>
            <button class="logout-btn" onclick="logout()">D√©connexion</button>
            <div class="class-selector">
            <h3>üìö Ma classe: <span id="myClass" style="color: #667eea;"></span></h3>
        </div>
        </div>
        <div class="grades-grid" id="gradesGrid">
            <div class="no-grades">Aucune note pour le moment</div>
        </div>
    </div>
     <!-- MODAL HISTORIQUE -->
    <div class="history-overlay" id="historyOverlay" onclick="closeHistory()"></div>
    <div class="history-popup" id="historyPopup">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; border-bottom: 2px solid #f0f0f0; padding-bottom: 15px;">
            <h3>Historique des Notes</h3>
            <button onclick="closeHistory()" style="background: none; border: none; font-size: 20px; cursor: pointer;">‚úï</button>
        </div>
        <div id="historyContent" style="max-height: 400px; overflow-y: auto;">
            <!-- Historique sera ins√©r√© ici -->
        </div>
    </div>
    <script type="module" src="acceuil.js"></script>
</body>
</html>